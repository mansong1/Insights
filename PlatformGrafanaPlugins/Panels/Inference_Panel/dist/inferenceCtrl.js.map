{"version":3,"sources":["../src/inferenceCtrl.js"],"names":["MetricsPanelCtrl","_","TimeSeries","coreModule","kbn","moment","panelDefaults","primary","open","showHoverChart","scrollable","happy_img","sad_img","InferenceCtrl","$scope","$injector","defaultsDeep","panel","events","on","onRender","bind","postRefresh","onDataError","onDataReceived","onInitEditMode","googleChartData","addEditorTab","$","length","google","window","charts","load","packages","dataList","uiResponseArr","jsonArrtoStr","singleVectorKpiDetails","showNoDataMessage","textcolor","user","lightTheme","i","arr","vectorMap","jsonObjtoStr","vector","data","vectorProperty","push","show","coll","document","getElementsByClassName","addEventListener","classList","toggle","content","nextElementSibling","style","display","x","drawArr","col","role","c","title","vectorName","options","visualization","DataTable","arrayToDataTable","filterData","setOnLoadCallback","drawCharts","chartType","targets","chart","LineChart","getElementById","id","BarChart","color","textStyle","textColor","draw","templateUrl"],"mappings":"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","file":"inferenceCtrl.js","sourcesContent":["import { MetricsPanelCtrl } from \"app/plugins/sdk\";\r\nimport _ from \"lodash\";\r\nimport TimeSeries from \"app/core/time_series2\";\r\nimport coreModule from \"app/core/core_module\";\r\nimport kbn from \"app/core/utils/kbn\";\r\nimport moment from \"moment\";\r\nvar google;\r\nconst panelDefaults = {\r\n\tprimary: 1,\r\n\topen: false,\r\n\tshowHoverChart: false,\r\n\tscrollable: true,\r\n\thappy_img: 'public/plugins/Inference_panel/img/happy.svg',\r\n\tsad_img: 'public/plugins/Inference_panel/img/sad.svg'\r\n};\r\nexport class InferenceCtrl extends MetricsPanelCtrl {\r\n\t/** @ngInject */\r\n\r\n\tconstructor($scope, $injector) {\r\n\t\tsuper($scope, $injector);\r\n\t\t_.defaultsDeep(this.panel, panelDefaults);\r\n\r\n\t\tthis.events.on('render', this.onRender.bind(this));\r\n\t\tthis.events.on('refresh', this.postRefresh.bind(this));\r\n\t\tthis.events.on('data-error', this.onDataError.bind(this));\r\n\t\tthis.events.on('data-received', this.onDataReceived.bind(this));\r\n\t\tthis.events.on('init-edit-mode', this.onInitEditMode.bind(this));\r\n\t\tthis.googleChartData = {};\r\n\t\tthis.panel.showHoverChart = false;\r\n\r\n\t}\r\n\r\n\tpostRefresh() {\r\n\r\n\t}\r\n\tonInitEditMode() {\r\n\t\tthis.addEditorTab('Options', './editor.html', 2);\r\n\t}\r\n\tonRender() {\r\n\t\t/* google = window['google'];\r\n\t\tgoogle.charts.load('current', { packages: ['corechart'] }); */\r\n\t\tif ($('#googleChartLoaderScript').length === 0) {\r\n            google = window['google'];\r\n\t\t\tgoogle.charts.load('46', { packages: ['corechart', 'charteditor','gantt'] });\r\n        }else{\r\n\t\t\tgoogle = window['google'];\r\n\t\t} \r\n\t}\r\n\tonDataReceived(dataList) {\r\n\t\tthis.uiResponseArr = [];\r\n\t\tthis.jsonArrtoStr = dataList;\r\n\t\tthis.singleVectorKpiDetails = [];\r\n\t\tthis.panel.showNoDataMessage = '';\r\n\t\tthis.textcolor = \"green\";\r\n\t\tif (window['grafanaBootData'].user.lightTheme) {\r\n\t\t\tthis.textcolor = 'black';\r\n\t\t} else {\r\n\t\t\tthis.textcolor = 'white';\r\n\t\t}\r\n\t\tif (this.jsonArrtoStr.length > 0) {\r\n\t\t\tfor (let i = 0; i < this.jsonArrtoStr.length; i++) {\r\n\t\t\t\tthis.arr = [];\r\n\t\t\t\tthis.vectorMap = {};\r\n\t\t\t\tthis.vectorMap[\"vectorName\"] = this.jsonArrtoStr[i][\"heading\"];\r\n\t\t\t\tthis.jsonObjtoStr = this.jsonArrtoStr[i];\r\n\t\t\t\tfor (var vector in this.jsonObjtoStr[\"inferenceDetails\"]) {\r\n\t\t\t\t\tthis.data = this.jsonObjtoStr[\"inferenceDetails\"][vector];\r\n\t\t\t\t\tthis.vectorProperty = {};\r\n\t\t\t\t\tthis.googleChartData[this.data[\"kpiId\"]] = this.data[\"resultSet\"];\r\n\t\t\t\t\tthis.vectorProperty[\"kpi\"] = this.data[\"kpi\"];\r\n\t\t\t\t\tthis.vectorProperty[\"sentiment\"] = this.data[\"sentiment\"];\r\n\t\t\t\t\tthis.vectorProperty[\"kpiId\"] = this.data[\"kpiId\"];\r\n\t\t\t\t\tthis.vectorProperty[\"schedule\"] = this.data[\"schedule\"];\r\n\t\t\t\t\tthis.vectorProperty[\"trendline\"] = this.data[\"trendline\"];\r\n\t\t\t\t\tthis.vectorProperty[\"inference\"] = this.data[\"inference\"];\r\n\t\t\t\t\tthis.vectorMap[\"lastRun\"] = this.data[\"lastRun\"];\r\n\t\t\t\t\tthis.vectorMap[\"schedule\"] = this.data[\"schedule\"];\r\n\t\t\t\t\tif (this.data[\"sentiment\"] == \"POSITIVE\" && this.data[\"trendline\"] == \"High to Low\") {\r\n\t\t\t\t\t\tthis.vectorProperty[\"color\"] = \"green\";\r\n\t\t\t\t\t\tthis.vectorProperty[\"type\"] = \"increased\";\r\n\t\t\t\t\t\tthis.googleChartData[this.data[\"kpiId\"]].push(\"green\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (this.data[\"sentiment\"] == \"POSITIVE\" && this.data[\"trendline\"] == \"Low to High\") {\r\n\t\t\t\t\t\tthis.vectorProperty[\"color\"] = \"green\";\r\n\t\t\t\t\t\tthis.vectorProperty[\"type\"] = \"increased\";\r\n\r\n\t\t\t\t\t\tthis.googleChartData[this.data[\"kpiId\"]].push(\"green\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (this.data[\"sentiment\"] == \"NEGATIVE\" && this.data[\"trendline\"] == \"Low to High\") {\r\n\t\t\t\t\t\tthis.vectorProperty[\"color\"] = \"red\";\r\n\t\t\t\t\t\tthis.vectorProperty[\"type\"] = \"increased\";\r\n\r\n\t\t\t\t\t\tthis.googleChartData[this.data[\"kpiId\"]].push(\"red\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (this.data[\"sentiment\"] == \"NEGATIVE\" && this.data[\"trendline\"] == \"High to Low\") {\r\n\t\t\t\t\t\tthis.vectorProperty[\"color\"] = \"red\";\r\n\t\t\t\t\t\tthis.vectorProperty[\"type\"] = \"decreased\";\r\n\r\n\t\t\t\t\t\tthis.googleChartData[this.data[\"kpiId\"]].push(\"red\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (this.data[\"sentiment\"] == \"NEUTRAL\") {\r\n\t\t\t\t\t\tthis.vectorProperty[\"color\"] = \"green\";\r\n\t\t\t\t\t\tthis.vectorProperty[\"type\"] = \"same\";\r\n\r\n\t\t\t\t\t\tthis.googleChartData[this.data[\"kpiId\"]].push(\"green\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.arr.push(this.vectorProperty);\r\n\t\t\t\t}\r\n\t\t\t\tthis.vectorMap[\"data\"] = this.arr;\r\n\t\t\t\tthis.uiResponseArr.push(this.vectorMap);\r\n\t\t\t}\r\n\t\t} else if (this.jsonArrtoStr.length == 0) {\r\n\t\t\tthis.panel.showNoDataMessage = \"No Data Found\";\r\n\t\t}\r\n\t\tthis.onRender();\r\n\t}\r\n\tonDataError() {\r\n\r\n\t}\r\n\topenCollapse() {\r\n\t\tthis.show = true;\r\n\t\tvar coll = document.getElementsByClassName(\"collapsible\");\r\n\t\tvar i;\r\n\r\n\t\tfor (i = 0; i < coll.length; i++) {\r\n\t\t\tcoll[i].addEventListener(\"click\", function () {\r\n\t\t\t\tthis.classList.toggle(\"active\");\r\n\t\t\t\tvar content = this.nextElementSibling;\r\n\t\t\t\tif (content.style.display === \"block\") {\r\n\t\t\t\t\tcontent.style.display = \"none\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontent.style.display = \"block\";\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tfilterData(x) {\r\n\r\n\t\tthis.drawArr = [];\r\n\t\tthis.col = ['Value', '', { role: 'style' }];\r\n\t\tthis.drawArr.push(this.col);\r\n\r\n\t\tthis.c = this.googleChartData[x][this.googleChartData[x].length - 1]\r\n\t\tfor (var data in this.googleChartData[x]) {\r\n\t\t\tthis.arr = [];\r\n\t\t\tthis.arr.push(this.googleChartData[x][data][\"resultDate\"]);\r\n\t\t\tthis.arr.push(this.googleChartData[x][data][\"value\"]);\r\n\t\t\tthis.arr.push(this.c);\r\n\t\t\tthis.drawArr.push(this.arr);\r\n\t\t}\r\n\r\n\t\treturn this.drawArr;\r\n\t}\r\n\thoverOn(x, title, vectorName) {\r\n\r\n\r\n\r\n\r\n\t\tthis.panel.primary += 1;\r\n\t\tthis.panel.showHoverChart = true;\r\n\t\tvar options = { 'title': title };\r\n\t\tthis.arr = [];\r\n\r\n\t\t// this.arr.push(this.filterData(x));\r\n\t\tvar data = new google.visualization.DataTable();\r\n\t\tvar data = google.visualization.arrayToDataTable(this.filterData(x));\r\n\t\tif ($('#googleChartLoaderScript').length === 0) {\r\n\t\t\t\tgoogle.charts.load('46', { packages: ['corechart', 'charteditor','gantt'] });\r\n\t\t} \r\n\t\tgoogle.charts.setOnLoadCallback(this.drawCharts.bind(this));\r\n\t\t// Instantiate and draw the chart.\r\n\t\tvar chartType = this.panel.targets[0].chartType;\r\n\t\tif (chartType == \"LineChart\") {\r\n\t\t\tvar chart = new google.visualization.LineChart(document.getElementById(this.panel.id));\r\n\t\t} else if (chartType == \"BarChart\") {\r\n\t\t\tvar chart = new google.visualization.BarChart(document.getElementById(this.panel.id));\r\n\t\t}\r\n\t\tif (window['grafanaBootData'].user.lightTheme) {\r\n\t\t\toptions['backgroundColor'] = '#ffffff';\r\n\t\t\toptions['legendTextStyle'] = { color: 'black' };\r\n\t\t\toptions['titleTextStyle'] = { color: 'black' };\r\n\t\t\toptions['hAxis'] = { textStyle: { color: 'black' } };\r\n\t\t\toptions['vAxis'] = { textStyle: { color: 'black' } };\r\n\t\t\tthis.panel.textColor = 'black';\r\n\r\n\t\t}\r\n\t\telse {\r\n\t\t\toptions['backgroundColor'] = '#212124';\r\n\t\t\toptions['legendTextStyle'] = { color: 'white' };\r\n\t\t\toptions['titleTextStyle'] = { color: 'white' };\r\n\t\t\toptions['hAxis'] = { textStyle: { color: 'white' } };\r\n\t\t\toptions['vAxis'] = { textStyle: { color: 'white' } };\r\n\t\t\tthis.panel.textColor = 'white';\r\n\t\t}\r\n\t\tchart.draw(data, options);\r\n\t}\r\n\thoverOut(x) {\r\n\t\tdocument.getElementById(x).style.display = 'none'\r\n\r\n\t\tthis.panel.showHoverChart = false;\r\n\r\n\t}\r\n\tdrawCharts() {\r\n\r\n\t}\r\n}\r\nInferenceCtrl.templateUrl = 'module.html';"]}